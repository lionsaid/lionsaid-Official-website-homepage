{
  "openapi": "3.1.0",
  "info": {
    "title": "狮语 API 文档",
    "description": "狮语平台后端API接口文档，提供完整的接口说明和测试功能",
    "termsOfService": "https://lionsaid.com/terms/",
    "contact": {
      "name": "LionSaid技术团队",
      "url": "https://lionsaid.com",
      "email": "lionsaid@aliyun.com"
    },
    "license": {
      "name": "MIT License",
      "url": "https://choosealicense.com/licenses/mit/"
    },
    "version": "1.0.0"
  },
  "externalDocs": {
    "description": "LionSaid开发者文档",
    "url": "https://lionsaid.com/docs"
  },
  "servers": [
    {
      "url": "http://localhost:8000",
      "description": "本地开发环境"
    },
    {
      "url": "https://dev-api.lionsaid.com",
      "description": "开发环境"
    },
    {
      "url": "https://api.lionsaid.com",
      "description": "生产环境"
    }
  ],
  "security": [
    {
      "bearerAuth": []
    }
  ],
  "tags": [
    {
      "name": "系统-安全事件",
      "description": "安全事件管理和监控相关接口"
    },
    {
      "name": "系统-菜单",
      "description": "菜单与菜单绑定管理"
    },
    {
      "name": "令牌管理",
      "description": "JWT令牌刷新和管理相关接口"
    },
    {
      "name": "系统-组织",
      "description": "组织与组织绑定管理"
    },
    {
      "name": "系统-策略",
      "description": "Casbin 策略（policy）管理"
    },
    {
      "name": "系统-权限",
      "description": "API 权限与授权关系管理"
    },
    {
      "name": "系统-角色",
      "description": "角色管理与角色绑定"
    },
    {
      "name": "系统-用户",
      "description": "系统用户管理（管理员）"
    }
  ],
  "paths": {
    "/api/system/users/{id}": {
      "get": {
        "tags": [
          "系统-用户"
        ],
        "summary": "获取用户",
        "operationId": "get",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "系统-用户"
        ],
        "summary": "更新用户（不改密码）",
        "operationId": "update",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SysUser"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "系统-用户"
        ],
        "summary": "删除用户",
        "operationId": "delete",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/system/users/{id}/enabled": {
      "put": {
        "tags": [
          "系统-用户"
        ],
        "summary": "启用/禁用用户",
        "operationId": "setEnabled",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "enabled",
            "in": "query",
            "required": true,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/system/roles/{id}": {
      "get": {
        "tags": [
          "系统-角色"
        ],
        "summary": "获取角色",
        "operationId": "get_1",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "系统-角色"
        ],
        "summary": "更新角色",
        "operationId": "update_1",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SysRole"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "系统-角色"
        ],
        "summary": "删除角色",
        "operationId": "delete_1",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/system/organizations/{id}": {
      "get": {
        "tags": [
          "系统-组织"
        ],
        "summary": "获取组织",
        "operationId": "get_2",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "系统-组织"
        ],
        "summary": "更新组织",
        "operationId": "update_2",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SysOrganization"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "系统-组织"
        ],
        "summary": "删除组织",
        "operationId": "delete_2",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/system/menus/{id}": {
      "get": {
        "tags": [
          "系统-菜单"
        ],
        "summary": "获取菜单",
        "operationId": "get_3",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "系统-菜单"
        ],
        "summary": "更新菜单",
        "operationId": "update_3",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SysMenu"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "系统-菜单"
        ],
        "summary": "删除菜单",
        "operationId": "delete_3",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/system/authorities/{id}": {
      "get": {
        "tags": [
          "系统-权限"
        ],
        "summary": "获取权限",
        "operationId": "get_4",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "系统-权限"
        ],
        "summary": "更新权限",
        "operationId": "update_4",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SysAuthorities"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "系统-权限"
        ],
        "summary": "删除权限",
        "operationId": "delete_4",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/me/settings": {
      "get": {
        "tags": [
          "当前用户"
        ],
        "summary": "获取当前用户设置",
        "description": "获取个人设置",
        "operationId": "getSettings",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "当前用户"
        ],
        "summary": "更新当前用户设置（JSON 合并）",
        "description": "更新个人设置",
        "operationId": "updateSettings",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserSettingsPatchRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/me/profile": {
      "put": {
        "tags": [
          "当前用户"
        ],
        "summary": "更新当前用户基本信息",
        "description": "更新个人资料",
        "operationId": "updateProfile",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserDTO"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/me/password": {
      "put": {
        "tags": [
          "当前用户"
        ],
        "summary": "更新用户密码",
        "description": "更新用户密码",
        "operationId": "updatePassword",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdatePasswordRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/tokens/revocations": {
      "post": {
        "tags": [
          "令牌管理"
        ],
        "summary": "撤销当前用户的所有令牌",
        "description": "撤销令牌",
        "operationId": "revokeTokens",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/tokens/refresh": {
      "post": {
        "tags": [
          "令牌管理"
        ],
        "summary": "使用刷新令牌获取新的访问令牌",
        "description": "刷新访问令牌",
        "operationId": "refreshToken",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": {
                  "type": "string"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/tokens/introspections": {
      "post": {
        "tags": [
          "令牌管理"
        ],
        "summary": "解析并校验令牌",
        "description": "令牌自省",
        "operationId": "testJwt",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/system/users": {
      "get": {
        "tags": [
          "系统-用户"
        ],
        "summary": "分页查询用户",
        "operationId": "list",
        "parameters": [
          {
            "name": "pageable",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/Pageable"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "系统-用户"
        ],
        "summary": "创建用户",
        "operationId": "create",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SysUser"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/system/security-events/alerts": {
      "post": {
        "tags": [
          "系统-安全事件"
        ],
        "summary": "手动发送安全警报邮件",
        "description": "发送安全警报",
        "operationId": "sendSecurityAlert",
        "parameters": [
          {
            "name": "subject",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "content",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/system/roles": {
      "get": {
        "tags": [
          "系统-角色"
        ],
        "summary": "搜索角色",
        "description": "支持 SearchDto + Pageable",
        "operationId": "search",
        "parameters": [
          {
            "name": "searchDto",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/SearchDto"
            }
          },
          {
            "name": "pageable",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/Pageable"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "系统-角色"
        ],
        "summary": "创建角色",
        "operationId": "create_1",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SysRole"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/system/roles/{roleId}/bindings": {
      "get": {
        "tags": [
          "系统-角色"
        ],
        "summary": "查询角色关联详情",
        "description": "按 type(user/organization/authorities) 返回关联列表",
        "operationId": "getBindingsDetail",
        "parameters": [
          {
            "name": "roleId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "roleDto",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/RoleDto"
            }
          },
          {
            "name": "pageable",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/Pageable"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "系统-角色"
        ],
        "summary": "绑定角色到目标",
        "description": "targetId 通常为 userId/organizationId/authoritiesId，语义由业务决定",
        "operationId": "bind",
        "parameters": [
          {
            "name": "roleId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "targetId",
            "in": "query",
            "description": "目标ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "系统-角色"
        ],
        "summary": "解绑角色绑定",
        "description": "按 roleId+targetId 精确解绑",
        "operationId": "unbind",
        "parameters": [
          {
            "name": "roleId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "targetId",
            "in": "query",
            "description": "目标ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/system/roles/bindings/query": {
      "post": {
        "tags": [
          "系统-角色"
        ],
        "summary": "查询角色关联对象",
        "description": "按 joinId 列表查询关联到的角色",
        "operationId": "getBindings",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/system/policies": {
      "get": {
        "tags": [
          "系统-策略"
        ],
        "summary": "列出策略",
        "description": "返回 casbin_rule.ptype='p' 的策略",
        "operationId": "list_1",
        "parameters": [
          {
            "name": "subject",
            "in": "query",
            "description": "主体（角色ID或用户ID）",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "domain",
            "in": "query",
            "description": "域（租户）",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "系统-策略"
        ],
        "summary": "创建策略",
        "description": "ptype 固定为 'p'",
        "operationId": "create_2",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePolicyRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/system/policies/reload": {
      "post": {
        "tags": [
          "系统-策略"
        ],
        "summary": "重载策略",
        "description": "从数据库重新加载策略到内存 Enforcer（多实例场景可配合定时/通知）",
        "operationId": "reload",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/system/organizations": {
      "get": {
        "tags": [
          "系统-组织"
        ],
        "summary": "搜索组织",
        "operationId": "search_1",
        "parameters": [
          {
            "name": "searchDto",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/SearchDto"
            }
          },
          {
            "name": "pageable",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/Pageable"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "系统-组织"
        ],
        "summary": "创建组织",
        "operationId": "create_3",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SysOrganization"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/system/organizations/{organizationId}/bindings": {
      "get": {
        "tags": [
          "系统-组织"
        ],
        "summary": "查询组织关联详情",
        "description": "type(user/menu/authorities)",
        "operationId": "getBindingsDetail_1",
        "parameters": [
          {
            "name": "organizationId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "type",
            "in": "query",
            "description": "关联类型",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": ""
            }
          },
          {
            "name": "pageable",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/Pageable"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "系统-组织"
        ],
        "summary": "绑定组织到目标",
        "description": "targetIds 通常为 userId/roleId/menuId/authoritiesId 等",
        "operationId": "bind_1",
        "parameters": [
          {
            "name": "organizationId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/system/menus": {
      "get": {
        "tags": [
          "系统-菜单"
        ],
        "summary": "搜索菜单",
        "operationId": "search_2",
        "parameters": [
          {
            "name": "searchDto",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/SearchDto"
            }
          },
          {
            "name": "pageable",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/Pageable"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "系统-菜单"
        ],
        "summary": "创建菜单",
        "operationId": "create_4",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SysMenu"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/system/menus/{menuId}/bindings": {
      "get": {
        "tags": [
          "系统-菜单"
        ],
        "summary": "查询菜单关联详情",
        "description": "type(user/organization/role)",
        "operationId": "getBindingsDetail_2",
        "parameters": [
          {
            "name": "menuId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "menuDto",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/MenuDto"
            }
          },
          {
            "name": "pageable",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/Pageable"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "系统-菜单"
        ],
        "summary": "绑定菜单到目标",
        "description": "targetId 通常为 userId/roleId/organizationId",
        "operationId": "bind_2",
        "parameters": [
          {
            "name": "menuId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "targetId",
            "in": "query",
            "description": "目标ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/system/authorities": {
      "get": {
        "tags": [
          "系统-权限"
        ],
        "summary": "搜索权限",
        "description": "支持 SearchDto + Pageable",
        "operationId": "search_3",
        "parameters": [
          {
            "name": "searchDto",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/SearchDto"
            }
          },
          {
            "name": "pageable",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/Pageable"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "系统-权限"
        ],
        "summary": "创建/保存权限",
        "operationId": "create_5",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SysAuthorities"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/system/authorities/{authorityId}/assignments": {
      "post": {
        "tags": [
          "系统-权限"
        ],
        "summary": "给目标分配权限",
        "description": "targetType 示例：user/role/organization",
        "operationId": "assign",
        "parameters": [
          {
            "name": "authorityId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "targetType",
            "in": "query",
            "description": "目标类型",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "targetId",
            "in": "query",
            "description": "目标ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "系统-权限"
        ],
        "summary": "取消目标权限",
        "operationId": "revoke",
        "parameters": [
          {
            "name": "authorityId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "targetType",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "targetId",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/system/authorities/refresh": {
      "post": {
        "tags": [
          "系统-权限"
        ],
        "summary": "刷新系统权限",
        "description": "扫描 Controller RequestMapping 生成 sys_authorities 记录",
        "operationId": "refresh",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/system/authorities/assignments/query": {
      "post": {
        "tags": [
          "系统-权限"
        ],
        "summary": "批量查询目标已分配权限",
        "operationId": "getAssigned",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/public/files": {
      "post": {
        "tags": [
          "公共-文件"
        ],
        "summary": "上传公共文件",
        "operationId": "upload",
        "parameters": [
          {
            "name": "name",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary"
                  }
                },
                "required": [
                  "file"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/me/question-attempts": {
      "get": {
        "tags": [
          "当前用户-答题记录"
        ],
        "summary": "查询答题记录",
        "operationId": "list_2",
        "parameters": [
          {
            "name": "dto",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/BusinessUserAnswerRecordDto"
            }
          },
          {
            "name": "pageable",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/Pageable"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "当前用户-答题记录"
        ],
        "summary": "新增答题记录",
        "operationId": "create_6",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": {}
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/me/devices": {
      "post": {
        "tags": [
          "当前用户"
        ],
        "summary": "新增用户设备信息",
        "description": "新增用户设备信息",
        "operationId": "saveUserDeviceInfo",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserDeviceInfoRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/verification-codes": {
      "post": {
        "tags": [
          "认证接口"
        ],
        "summary": "获取验证码",
        "description": "获取验证码",
        "operationId": "generateVerificationCode",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserLoginDTO"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/verification-codes/verify": {
      "post": {
        "tags": [
          "认证接口"
        ],
        "summary": "验证验证码",
        "description": "验证验证码",
        "operationId": "verificationCode",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserLoginDTO"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/users": {
      "post": {
        "tags": [
          "认证接口"
        ],
        "summary": "创建用户账号",
        "description": "用户注册",
        "operationId": "userRegister",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserDTO"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/sessions": {
      "post": {
        "tags": [
          "认证接口"
        ],
        "summary": "创建会话",
        "description": "用户登录",
        "operationId": "login",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserLoginDTO"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/system/security-events": {
      "get": {
        "tags": [
          "系统-安全事件"
        ],
        "summary": "根据条件查询安全事件",
        "description": "查询安全事件",
        "operationId": "searchEvents",
        "parameters": [
          {
            "name": "eventType",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "severity",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "userId",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "sourceIp",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "startTime",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "endTime",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "pageable",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/Pageable"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/system/security-events/top-failed-ips": {
      "get": {
        "tags": [
          "系统-安全事件"
        ],
        "summary": "获取登录失败次数最多的IP地址",
        "description": "获取登录失败IP",
        "operationId": "getTopFailedLoginIps",
        "parameters": [
          {
            "name": "days",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/system/security-events/stats": {
      "get": {
        "tags": [
          "系统-安全事件"
        ],
        "summary": "获取指定天数的安全事件统计信息",
        "description": "获取安全统计信息",
        "operationId": "getSecurityStats",
        "parameters": [
          {
            "name": "days",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 7
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/system/security-events/check-ip": {
      "get": {
        "tags": [
          "系统-安全事件"
        ],
        "summary": "检查IP是否可疑",
        "description": "检查可疑IP",
        "operationId": "checkSuspiciousIp",
        "parameters": [
          {
            "name": "ip",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "minutes",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 5
            }
          },
          {
            "name": "threshold",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/system/logs/{id}": {
      "get": {
        "tags": [
          "日志管理"
        ],
        "summary": "用户日志 查询日志",
        "description": "用户日志 查询日志",
        "operationId": "get_5",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/public/dictionaries": {
      "get": {
        "tags": [
          "公共资源"
        ],
        "summary": "获取用户语言字典",
        "description": "获取用户语言字典",
        "operationId": "findDict",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/me/question-attempts/{id}": {
      "get": {
        "tags": [
          "当前用户-答题记录"
        ],
        "summary": "获取答题记录详情",
        "operationId": "get_6",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "当前用户-答题记录"
        ],
        "summary": "删除答题记录",
        "operationId": "delete_5",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/me/menu": {
      "get": {
        "tags": [
          "当前用户"
        ],
        "summary": "获取用户菜单",
        "description": "获取用户菜单",
        "operationId": "getUserMenu",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/system/policies/{id}": {
      "delete": {
        "tags": [
          "系统-策略"
        ],
        "summary": "删除策略",
        "operationId": "delete_6",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/system/organizations/bindings": {
      "delete": {
        "tags": [
          "系统-组织"
        ],
        "summary": "删除组织绑定",
        "description": "按绑定ID列表删除",
        "operationId": "deleteBindings",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/system/menus/bindings/{bindingId}": {
      "delete": {
        "tags": [
          "系统-菜单"
        ],
        "summary": "删除菜单绑定",
        "description": "按绑定ID删除",
        "operationId": "deleteBinding",
        "parameters": [
          {
            "name": "bindingId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/me": {
      "delete": {
        "tags": [
          "当前用户"
        ],
        "summary": "注销账号",
        "description": "注销账号",
        "operationId": "deregisterAccount",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/sessions/current": {
      "delete": {
        "tags": [
          "认证接口"
        ],
        "summary": "删除当前会话",
        "description": "登出",
        "operationId": "logout",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseResult"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "GrantedAuthority": {
        "type": "object",
        "properties": {
          "authority": {
            "type": "string"
          }
        }
      },
      "SysUser": {
        "type": "object",
        "properties": {
          "createdBy": {
            "type": "string"
          },
          "createdDate": {
            "type": "string"
          },
          "lastModifiedBy": {
            "type": "string"
          },
          "lastModifiedDate": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "username": {
            "type": "string"
          },
          "nickName": {
            "type": "string"
          },
          "password": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "emailVerify": {
            "type": "integer",
            "format": "int32"
          },
          "mobile": {
            "type": "string"
          },
          "mobileVerify": {
            "type": "integer",
            "format": "int32"
          },
          "sex": {
            "type": "integer",
            "format": "int32"
          },
          "avatar": {
            "type": "string"
          },
          "userType": {
            "type": "integer",
            "format": "int32"
          },
          "verificationCode": {
            "type": "string"
          },
          "verificationCodeExpiryDate": {
            "type": "string",
            "format": "date-time"
          },
          "lastLoginTime": {
            "type": "string",
            "format": "date-time"
          },
          "lastLoginIp": {
            "type": "string"
          },
          "authorities": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GrantedAuthority"
            }
          },
          "enabled": {
            "type": "boolean"
          },
          "credentialsNonExpired": {
            "type": "boolean"
          },
          "accountNonExpired": {
            "type": "boolean"
          },
          "accountNonLocked": {
            "type": "boolean"
          }
        }
      },
      "ResponseResult": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string"
          },
          "error": {
            "type": "string"
          },
          "path": {
            "type": "string"
          },
          "apiVersion": {
            "type": "number",
            "format": "double"
          },
          "status": {
            "type": "integer",
            "format": "int32"
          },
          "content": {},
          "data": {},
          "success": {
            "type": "boolean"
          },
          "timestamp": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "SysRole": {
        "type": "object",
        "properties": {
          "createdBy": {
            "type": "string"
          },
          "createdDate": {
            "type": "string"
          },
          "lastModifiedBy": {
            "type": "string"
          },
          "lastModifiedDate": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "describe": {
            "type": "string"
          },
          "isDeleted": {
            "type": "boolean"
          },
          "isLocked": {
            "type": "boolean"
          },
          "ownerId": {
            "type": "string"
          },
          "ownerName": {
            "type": "string"
          },
          "roleType": {
            "type": "string"
          },
          "roleCode": {
            "type": "string"
          },
          "dataScope": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "SysOrganization": {
        "type": "object",
        "properties": {
          "createdBy": {
            "type": "string"
          },
          "createdDate": {
            "type": "string"
          },
          "lastModifiedBy": {
            "type": "string"
          },
          "lastModifiedDate": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "parentId": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "ownerId": {
            "type": "string"
          },
          "ownerName": {
            "type": "string"
          },
          "contact": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "memberCount": {
            "type": "integer",
            "format": "int32"
          },
          "isDeleted": {
            "type": "boolean"
          },
          "isLocked": {
            "type": "boolean"
          }
        }
      },
      "SysMenu": {
        "type": "object",
        "properties": {
          "createdBy": {
            "type": "string"
          },
          "createdDate": {
            "type": "string"
          },
          "lastModifiedBy": {
            "type": "string"
          },
          "lastModifiedDate": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "tag": {
            "type": "string"
          },
          "parentId": {
            "type": "string"
          },
          "route": {
            "type": "string"
          },
          "routeType": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "summary": {
            "type": "string"
          },
          "icon": {
            "type": "string"
          },
          "orderNum": {
            "type": "integer",
            "format": "int32"
          },
          "permission": {
            "type": "string"
          },
          "visible": {
            "type": "integer",
            "format": "int32"
          },
          "component": {
            "type": "string"
          },
          "isCache": {
            "type": "integer",
            "format": "int32"
          },
          "isFrame": {
            "type": "integer",
            "format": "int32"
          },
          "isLocked": {
            "type": "boolean"
          },
          "isDeleted": {
            "type": "boolean"
          }
        }
      },
      "SysAuthorities": {
        "type": "object",
        "properties": {
          "createdBy": {
            "type": "string"
          },
          "createdDate": {
            "type": "string"
          },
          "lastModifiedBy": {
            "type": "string"
          },
          "lastModifiedDate": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "groupId": {
            "type": "string"
          },
          "authorities": {
            "type": "string"
          },
          "method": {
            "type": "string"
          },
          "path": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "summary": {
            "type": "string"
          },
          "sort": {
            "type": "integer",
            "format": "int32"
          },
          "type": {
            "type": "string"
          },
          "isEnabled": {
            "type": "boolean"
          },
          "isSystem": {
            "type": "boolean"
          },
          "module": {
            "type": "string"
          }
        }
      },
      "UserSettingsPatchRequest": {
        "type": "object",
        "additionalProperties": true,
        "description": "更新个人设置请求（任意键值 JSON 对象）"
      },
      "UserDTO": {
        "type": "object",
        "properties": {
          "username": {
            "type": "string"
          },
          "nickName": {
            "type": "string"
          },
          "password": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "mobile": {
            "type": "string"
          },
          "sex": {
            "type": "integer",
            "format": "int32"
          },
          "avatar": {
            "type": "string"
          }
        },
        "required": [
          "password",
          "username"
        ]
      },
      "UpdatePasswordRequest": {
        "type": "object",
        "description": "更新用户密码请求",
        "properties": {
          "oldPassword": {
            "type": "string",
            "description": "旧密码",
            "example": "old_password"
          },
          "newPassword": {
            "type": "string",
            "description": "新密码",
            "example": "new_password"
          }
        },
        "required": [
          "newPassword",
          "oldPassword"
        ]
      },
      "CreatePolicyRequest": {
        "type": "object",
        "properties": {
          "subject": {
            "type": "string"
          },
          "domain": {
            "type": "string"
          },
          "object": {
            "type": "string"
          },
          "action": {
            "type": "string"
          }
        },
        "required": [
          "action",
          "object",
          "subject"
        ]
      },
      "UserDeviceInfoRequest": {
        "type": "object",
        "description": "用户设备信息请求",
        "properties": {
          "deviceId": {
            "type": "string",
            "description": "设备ID",
            "example": "device_001"
          },
          "deviceInfo": {
            "type": "string",
            "description": "设备信息",
            "example": "iPhone 15 Pro; iOS 17.2"
          },
          "targetPlatform": {
            "type": "string",
            "description": "目标平台",
            "example": "ios"
          }
        },
        "required": [
          "deviceId"
        ]
      },
      "UserLoginDTO": {
        "type": "object",
        "properties": {
          "username": {
            "type": "string"
          },
          "password": {
            "type": "string"
          },
          "code": {
            "type": "string"
          }
        }
      },
      "Pageable": {
        "type": "object",
        "properties": {
          "page": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          },
          "size": {
            "type": "integer",
            "format": "int32",
            "minimum": 1
          },
          "sort": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "SearchDto": {
        "type": "object",
        "properties": {
          "search": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "mine": {
            "type": "boolean"
          }
        }
      },
      "RoleDto": {
        "type": "object",
        "description": "角色信息",
        "properties": {
          "id": {
            "type": "string",
            "description": "角色ID"
          },
          "name": {
            "type": "string",
            "description": "角色名称",
            "example": "系统管理员",
            "maxLength": 50,
            "minLength": 2,
            "pattern":"^[A-Za-z0-9_-]+$"
          },
          "describe": {
            "type": "string",
            "description": "角色描述",
            "example": "具有系统所有权限的超级管理员",
            "maxLength": 200,
            "minLength": 0
          },
          "status": {
            "type": "string",
            "description": "角色状态",
            "example": 1
          },
          "joinId": {
            "type": "string",
            "description": "关联ID"
          },
          "isDeleted": {
            "type": "boolean",
            "description": "是否删除"
          },
          "isLocked": {
            "type": "boolean",
            "description": "是否锁定"
          },
          "roleId": {
            "type": "string",
            "description": "角色ID（用于关联查询）"
          },
          "type": {
            "type": "string",
            "description": "关联类型",
            "enum": [
              "user",
              "organization",
              "authorities"
            ]
          },
          "search": {
            "type": "string",
            "description": "搜索关键字"
          }
        },
        "required": [
          "name"
        ]
      },
      "MenuDto": {
        "type": "object",
        "properties": {
          "search": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "mine": {
            "type": "boolean"
          },
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "tag": {
            "type": "string"
          },
          "route": {
            "type": "string"
          },
          "routeType": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "summary": {
            "type": "string"
          },
          "status": {
            "type": "integer",
            "format": "int32"
          },
          "joinId": {
            "type": "string"
          },
          "isLocked": {
            "type": "boolean"
          },
          "isDeleted": {
            "type": "boolean"
          }
        }
      },
      "BusinessUserAnswerRecordDto": {
        "type": "object",
        "properties": {
          "difficulty": {
            "type": "string"
          },
          "discipline": {
            "type": "string"
          },
          "score": {
            "type": "number",
            "format": "double"
          }
        }
      }
    },
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "description": "JWT认证：在请求头中添加Authorization: Bearer {token}",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    }
  }
}